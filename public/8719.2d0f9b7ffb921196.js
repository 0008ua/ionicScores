"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8719],{8719:(C,c,r)=>{r.r(c),r.d(c,{AuthModule:()=>L});var A=r(6019),s=r(777),m=r(540),y=r(5722),h=r(8053),f=r(6636),p=r(2047),i=r(4433),e=r(3668),F=r(6006),g=r(607);let v=(()=>{class t{constructor(o,a,n){this.authService=o,this.router=a,this.store=n,this.userRole$=this.store.select(i.nC),this.store.select(i.nC).pipe((0,y.b)(d=>console.log("role change guard",d))).subscribe(d=>d)}canLoad(o,a){return this.userRole$.pipe((0,h.U)(n=>"guest"!==n||(this.router.navigateByUrl("/auth/signin"),!1)),(0,f.q)(1))}canActivate(o,a){return this.userRole$.pipe((0,h.U)(n=>"guest"!==n||(this.router.navigateByUrl("/auth/signin"),!1)),(0,p.K)(n=>(console.log("err guard",n),(0,m._)(n))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(F.e),e.LFG(s.F0),e.LFG(g.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(o,a){this.router=o,this.store=a,this.userRole$=this.store.select(i.nC)}canLoad(o,a){return this.userRole$.pipe((0,h.U)(n=>"member"!==n||(this.router.navigateByUrl("/auth/profile"),!1)),(0,f.q)(1))}canActivate(o,a){return this.userRole$.pipe((0,h.U)(n=>"member"!==n||(this.router.navigateByUrl("/auth/profile"),!1)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(s.F0),e.LFG(g.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const G=[{path:"profile",loadChildren:()=>r.e(1801).then(r.bind(r,1801)).then(t=>t.ProfilePageModule),canLoad:[v],canActivate:[v]},{path:"signin",loadChildren:()=>Promise.all([r.e(8592),r.e(7341)]).then(r.bind(r,7341)).then(t=>t.SigninPageModule),canLoad:[l],canActivate:[l]},{path:"signup",loadChildren:()=>Promise.all([r.e(8592),r.e(7870)]).then(r.bind(r,7870)).then(t=>t.SignupPageModule),canLoad:[l],canActivate:[l]},{path:"**",redirectTo:"signin",pathMatch:"full"}];let M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(G)],s.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[A.ez,M]]}),t})()}}]);